<project xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.kw-software.com/xml/PLCopen/TC6_XML_V10_KW.xsd">
	<fileHeader companyName="Phoenix Contact" companyURL="https://www.phoenixcontact-software.com" productName="PC WORX" productVersion="6.30" productRelease="Build 665" creationDateTime="2020-05-06T15:13:33" contentDescription="###XMLINFO=2;1;"/>
	<contentHeader name="pcworx-testkit" version="1588769659" modificationDateTime="2020-05-06T15:54:19" connectionCheck="true">
		<coordinateInfo>
			<pageSize x="999" y="9999"/>
			<fbd>
				<scaling x="2" y="2"/>
			</fbd>
			<ld>
				<scaling x="2" y="2"/>
			</ld>
			<sfc>
				<scaling x="2" y="2"/>
			</sfc>
		</coordinateInfo>
	</contentHeader>
	<types>
		<dataTypes/>
		<pous>
			<pou name="WaitTestResult" pouType="functionBlock" pouGroup="TestKit" lastChange="2020-05-06T15:54:19">
				<interface>
					<inputVars retain="false">
						<variable name="xEnabled" group="Inputs">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="xPermission" group="Inputs">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="strTestName" group="Inputs">
							<type>
								<derived name="STRING_512"/>
							</type>
						</variable>
						<variable name="strWaitForValue" group="Inputs">
							<type>
								<derived name="STRING_512"/>
							</type>
						</variable>
						<variable name="strActual" group="Inputs">
							<type>
								<derived name="STRING_512"/>
							</type>
						</variable>
						<variable name="tTimeout" group="Inputs">
							<type>
								<TIME/>
							</type>
						</variable>
					</inputVars>
					<localVars retain="false">
						<variable name="TON_TIMEOUT" group="Instances">
							<type>
								<derived name="TON"/>
							</type>
						</variable>
						<variable name="xTimeout" group="Internal">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="xEnableTimeout" group="Internal">
							<type>
								<BOOL/>
							</type>
						</variable>
					</localVars>
					<outputVars retain="false">
						<variable name="Result" group="Output">
							<type>
								<derived name="udtTestItemResult"/>
							</type>
						</variable>
					</outputVars>
				</interface>
				<body>
					<ST>
						<worksheet name="WaitTestResult">
							<html xmlns="http://www.w3.org/1999/xhtml">
								<p xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">Result.strName					:= strTestName;<br/>Result.strMessage				:= '';<br/>Result.xEnabled					:= FALSE;<br/>Result.xExecuted				:= FALSE;<br/>Result.xFailed					:= FALSE;<br/>xEnableTimeout					:= FALSE;<br/>
									<br/>
									<br/>IF xEnabled THEN<br/>	Result.xEnabled				:= xEnabled;<br/>	Result.xPermission			:= xPermission;<br/>	xEnableTimeout				:= TRUE;<br/>
									<br/>	Result.strMessage			:= '';<br/>    Result.strMessage 			:= CONCAT(Result.strMessage, 'Waiting');<br/>	Result.strMessage			:= CONCAT(Result.strMessage, '. Elapsed: ');<br/>    Result.strMessage			:= CONCAT(Result.strMessage, TIME_TO_STRING(TON_TIMEOUT.ET, '%u'));<br/>
									<br/>	IF EQ_STRING(strActual, strWaitForValue) THEN<br/>	    Result.xFailed   		:= FALSE;<br/>
									<br/>		Result.strMessage		:= '';<br/>	    Result.strMessage 		:= CONCAT(Result.strMessage, 'PASS');<br/>		Result.strMessage		:= CONCAT(Result.strMessage, '. Elapsed: ');<br/>	    Result.strMessage		:= CONCAT(Result.strMessage, TIME_TO_STRING(TON_TIMEOUT.ET, '%u'));<br/>
									<br/>		Result.xExecuted		:= TRUE;<br/>		xEnableTimeout			:= FALSE;<br/>
									<br/>	ELSIF xTimeout THEN<br/>	    Result.xFailed			:= TRUE;<br/>
									<br/>	    Result.strMessage		:= '';<br/>	    Result.strMessage		:= CONCAT(Result.strMessage, 'FAIL. Wait for: ');<br/>	    Result.strMessage		:= CONCAT(Result.strMessage, strWaitForValue);<br/>	    Result.strMessage		:= CONCAT(Result.strMessage, '. Actual: ');<br/>	    Result.strMessage		:= CONCAT(Result.strMessage, strActual);<br/>		Result.strMessage		:= CONCAT(Result.strMessage, '. Timeout: ');<br/>	    Result.strMessage		:= CONCAT(Result.strMessage, TIME_TO_STRING(tTimeout, '%u'));<br/>
									<br/>		Result.xExecuted		:= TRUE;<br/>		xEnableTimeout			:= FALSE;<br/>	END_IF;<br/>END_IF;<br/>
									<br/>TON_TIMEOUT.IN					:= xEnableTimeout;<br/>TON_TIMEOUT.PT					:= tTimeout;<br/>TON_TIMEOUT();<br/>xTimeout						:= TON_TIMEOUT.Q;<br/>
								</p>
							</html>
						</worksheet>
					</ST>
				</body>
				<documentation>
					<html xmlns="http://www.w3.org/1999/xhtml">
						<div xml:space="preserve" id="MWTDESCRIPTION" wsName="WaitTestResultT" xmlns="http://www.w3.org/1999/xhtml"/>
					</html>
				</documentation>
			</pou>
		</pous>
	</types>
	<instances>
		<configurations/>
	</instances>
</project>