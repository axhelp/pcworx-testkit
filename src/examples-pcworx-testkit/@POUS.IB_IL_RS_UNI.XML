<project xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.kw-software.com/xml/PLCopen/TC6_XML_V10_KW.xsd">
	<fileHeader companyName="Phoenix Contact" companyURL="https://www.phoenixcontact-software.com" productName="PC WORX" productVersion="6.30" productRelease="Build 665" creationDateTime="2020-03-30T10:13:33" contentDescription="###XMLINFO=2;1;"/>
	<contentHeader name="examples-pcworx-testkit" version="1585555758" modificationDateTime="2020-03-30T11:09:18" connectionCheck="true">
		<coordinateInfo>
			<pageSize x="999" y="9999"/>
			<fbd>
				<scaling x="2" y="2"/>
			</fbd>
			<ld>
				<scaling x="2" y="2"/>
			</ld>
			<sfc>
				<scaling x="2" y="2"/>
			</sfc>
		</coordinateInfo>
	</contentHeader>
	<types>
		<dataTypes/>
		<pous>
			<pou name="IB_IL_RS_UNI" pouType="program" pouGroup="Serial" lastChange="2020-03-30T11:09:18">
				<interface>
					<localVars retain="false">
						<variable name="MB_IL_UNI07_Master" group="Master">
							<type>
								<derived name="MB_IL_UNI07_Master_5"/>
							</type>
						</variable>
						<variable name="xActiveMaster" group="Master">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="xReadyMaster" group="Master">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="xActivateMaster" group="Master">
							<type>
								<BOOL/>
							</type>
							<initialValue>
								<simpleValue value="TRUE"/>
							</initialValue>
						</variable>
						<variable name="xResetMaster" group="Master">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="MB_RTU_FC3" group="Master">
							<type>
								<derived name="MB_RTU_FC3_5"/>
							</type>
						</variable>
						<variable name="xSendRequest" group="Master">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="iDataCount" group="Master">
							<type>
								<INT/>
							</type>
							<initialValue>
								<simpleValue value="1"/>
							</initialValue>
						</variable>
						<variable name="uiStartAddress" group="Master">
							<type>
								<UINT/>
							</type>
							<initialValue>
								<simpleValue value="UINT#1"/>
							</initialValue>
						</variable>
						<variable name="xEnablePoll" group="Master">
							<type>
								<BOOL/>
							</type>
							<initialValue>
								<simpleValue value="TRUE"/>
							</initialValue>
						</variable>
						<variable name="arrReadData" group="Master">
							<type>
								<derived name="arrModbus2_W_1_125"/>
							</type>
						</variable>
						<variable name="udtMbDataMaster" group="Master">
							<type>
								<derived name="udtModbus2_Data"/>
							</type>
						</variable>
						<variable name="arrInputAddressMaster" group="Master">
							<type>
								<derived name="MB2_RSUNI_ARR_B_1_14"/>
							</type>
						</variable>
						<variable name="arrOutputAddressMaster" group="Master">
							<type>
								<derived name="MB2_RSUNI_ARR_B_1_14"/>
							</type>
						</variable>
						<variable name="iRegisterValue01" group="Master">
							<type>
								<INT/>
							</type>
						</variable>
						<variable name="xDoneFC3" group="Master">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="xErrorFC3" group="Master">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="wDiagCodeFC3" group="Master">
							<type>
								<WORD/>
							</type>
						</variable>
						<variable name="wAddDiagCodeFC3" group="Master">
							<type>
								<WORD/>
							</type>
						</variable>
						<variable name="MB_IL_UNI07_Slave" group="Slave">
							<type>
								<derived name="MB_IL_UNI07_Slave_3"/>
							</type>
						</variable>
						<variable name="xActivateSlave" group="Slave">
							<type>
								<BOOL/>
							</type>
							<initialValue>
								<simpleValue value="TRUE"/>
							</initialValue>
						</variable>
						<variable name="uiSlaveAddress" group="Slave">
							<type>
								<UINT/>
							</type>
							<initialValue>
								<simpleValue value="UINT#1"/>
							</initialValue>
						</variable>
						<variable name="udtHoldingRegisters" group="Slave">
							<type>
								<derived name="arrModbus2_w_0_1999"/>
							</type>
						</variable>
						<variable name="udtInputRegisters" group="Slave">
							<type>
								<derived name="arrModbus2_w_2000_2999"/>
							</type>
						</variable>
						<variable name="udtOutputBits" group="Slave">
							<type>
								<derived name="arrModbus2_x_3000_3999"/>
							</type>
						</variable>
						<variable name="udtInputBits" group="Slave">
							<type>
								<derived name="arrModbus2_x_4000_4999"/>
							</type>
						</variable>
						<variable name="arrInputAddressSlave" group="Slave">
							<type>
								<derived name="MB2_RSUNI_ARR_B_1_14"/>
							</type>
						</variable>
						<variable name="arrOutputAddressSlave" group="Slave">
							<type>
								<derived name="MB2_RSUNI_ARR_B_1_14"/>
							</type>
						</variable>
						<variable name="IL_UNI07_Slave" group="Mock">
							<type>
								<derived name="IL_UNI07"/>
							</type>
						</variable>
						<variable name="IL_UNI07_Master" group="Mock">
							<type>
								<derived name="IL_UNI07"/>
							</type>
						</variable>
						<variable name="udtRS485Line" group="Mock">
							<type>
								<derived name="udtRS485Frame"/>
							</type>
						</variable>
						<variable name="xDebug" group="Mock">
							<type>
								<BOOL/>
							</type>
						</variable>
						<variable name="IB_IL_RS_UNI_07_Master" group="Mock">
							<type>
								<derived name="IL_UNI07"/>
							</type>
						</variable>
						<variable name="IB_IL_RS_UNI_07_Slave" group="Mock">
							<type>
								<derived name="IL_UNI07"/>
							</type>
						</variable>
					</localVars>
					<externalVars retain="false">
						<variable name="RTC_SECONDS" group="Global">
							<type>
								<INT/>
							</type>
							<documentation>
								<html xmlns="http://www.w3.org/1999/xhtml">
									<p xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">System time (seconds)</p>
								</html>
							</documentation>
						</variable>
					</externalVars>
				</interface>
				<body>
					<ST>
						<worksheet name="Master">
							<html xmlns="http://www.w3.org/1999/xhtml">
								<p xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">(*<br/>MB_Master block sends data to <br/>mocked IB IL RS UNI function block instead of Process data<br/>*)<br/>
									<br/>MB_IL_UNI07_Master.xActivate			:= xActivateMaster;<br/>MB_IL_UNI07_Master.bSelectMode			:= BYTE#01;<br/>MB_IL_UNI07_Master.diBaudrate			:= DINT#9600;<br/>MB_IL_UNI07_Master.wDataWidth			:= WORD#4;<br/>MB_IL_UNI07_Master.tTimeout				:= T#30s;<br/>MB_IL_UNI07_Master.xReset				:= xResetMaster;<br/>MB_IL_UNI07_Master.udtMBData			:= udtMbDataMaster;<br/>MB_IL_UNI07_Master.arrInputAddress		:= arrInputAddressMaster;<br/>MB_IL_UNI07_Master.arrOutputAddress		:= arrOutputAddressMaster;<br/>
									<br/>MB_IL_UNI07_Master();<br/>
									<br/>udtMbDataMaster							:= MB_IL_UNI07_Master.udtMBData;<br/>arrInputAddressMaster					:= MB_IL_UNI07_Master.arrInputAddress;<br/>arrOutputAddressMaster					:= MB_IL_UNI07_Master.arrOutputAddress;<br/>
									<br/>(*	FC3 = Read multiple registers *)<br/>MB_RTU_FC3.xActivate					:= MB_IL_UNI07_Master.xActive;<br/>MB_RTU_FC3.xSendRequest					:= xSendRequest;<br/>MB_RTU_FC3.xEnablePoll					:= xEnablePoll;<br/>MB_RTU_FC3.tPollInterval				:= t#200ms;<br/>MB_RTU_FC3.uiSlaveAddress				:= uiSlaveAddress;<br/>MB_RTU_FC3.uiStartAddress				:= uiStartAddress;<br/>MB_RTU_FC3.iDataCount					:= iDataCount;<br/>MB_RTU_FC3.arrReadData					:= arrReadData;<br/>MB_RTU_FC3.udtMbData					:= udtMbDataMaster;<br/>
									<br/>MB_RTU_FC3();<br/>
									<br/>xDoneFC3								:= MB_RTU_FC3.xDone;<br/>xErrorFC3								:= MB_RTU_FC3.xError;<br/>wDiagCodeFC3							:= MB_RTU_FC3.wDiagCode;<br/>wAddDiagCodeFC3							:= MB_RTU_FC3.wAddDiagCode;<br/>
									<br/>arrReadData								:= MB_RTU_FC3.arrReadData;<br/>udtMbDataMaster							:= MB_RTU_FC3.udtMbData;<br/>
									<br/>(*	Readed value *)<br/>iRegisterValue01						:= WORD_TO_INT(arrReadData[1]);<br/>
									<br/>(*	IB IL RS UNI (Proceess data 7 words) software replacement *)<br/>IB_IL_RS_UNI_07_Master.xConsoleLog		:= xDebug;<br/>IB_IL_RS_UNI_07_Master.strConsoleId		:= 'MAS';<br/>IB_IL_RS_UNI_07_Master.udtRS485Line		:= udtRS485Line;<br/>IB_IL_RS_UNI_07_Master.arrInputAddress	:= arrOutputAddressMaster;<br/>IB_IL_RS_UNI_07_Master.arrOutputAddress	:= arrInputAddressMaster;<br/>
									<br/>IB_IL_RS_UNI_07_Master();<br/>
									<br/>udtRS485Line							:= IB_IL_RS_UNI_07_Master.udtRS485Line;<br/>arrOutputAddressMaster					:= IB_IL_RS_UNI_07_Master.arrInputAddress;<br/>arrInputAddressMaster					:= IB_IL_RS_UNI_07_Master.arrOutputAddress;<br/>
								</p>
							</html>
						</worksheet>
						<worksheet name="Slave">
							<html xmlns="http://www.w3.org/1999/xhtml">
								<p xml:space="preserve" xmlns="http://www.w3.org/1999/xhtml">(*	IB IL RS UNI (Proceess data 7 words) software replacement *)<br/>IL_UNI07_Slave.xConsoleLog				:= xDebug;<br/>IL_UNI07_Slave.strConsoleId				:= 'SLV';<br/>IL_UNI07_Slave.udtRS485Line				:= udtRS485Line;<br/>IL_UNI07_Slave.arrInputAddress			:= arrOutputAddressSlave;<br/>IL_UNI07_Slave.arrOutputAddress			:= arrInputAddressSlave;<br/>
									<br/>IL_UNI07_Slave();<br/>
									<br/>udtRS485Line							:= IL_UNI07_Slave.udtRS485Line;<br/>arrOutputAddressSlave					:= IL_UNI07_Slave.arrInputAddress;<br/>arrInputAddressSlave					:= IL_UNI07_Slave.arrOutputAddress;<br/>
									<br/>(*<br/>MB_Master block receives data from <br/>mocked IB IL RS UNI function block instead of Process data<br/>*)<br/>
									<br/>MB_IL_UNI07_Slave.xActivate				:= xActivateSlave;<br/>MB_IL_UNI07_Slave.bSelectMode			:= BYTE#01;<br/>MB_IL_UNI07_Slave.diBaudrate			:= DINT#9600;<br/>MB_IL_UNI07_Slave.wDataWidth			:= WORD#4;<br/>MB_IL_UNI07_Slave.uiSlaveAddress		:= uiSlaveAddress;<br/>MB_IL_UNI07_Slave.udtHoldingRegisters	:= udtHoldingRegisters;<br/>MB_IL_UNI07_Slave.udtInputRegisters		:= udtInputRegisters;<br/>MB_IL_UNI07_Slave.udtOutputBits			:= udtOutputBits;<br/>MB_IL_UNI07_Slave.udtInputBits			:= udtInputBits;<br/>MB_IL_UNI07_Slave.arrInputAddress		:= arrInputAddressSlave;<br/>MB_IL_UNI07_Slave.arrOutputAddress		:= arrOutputAddressSlave;<br/>
									<br/>MB_IL_UNI07_Slave();<br/>
									<br/>udtHoldingRegisters         			:= MB_IL_UNI07_Slave.udtHoldingRegisters;<br/>udtInputRegisters           			:= MB_IL_UNI07_Slave.udtInputRegisters;		<br/>udtOutputBits           				:= MB_IL_UNI07_Slave.udtOutputBits;<br/>udtInputBits            				:= MB_IL_UNI07_Slave.udtInputBits;<br/>arrInputAddressSlave            		:= MB_IL_UNI07_Slave.arrInputAddress;<br/>arrOutputAddressSlave           		:= MB_IL_UNI07_Slave.arrOutputAddress;<br/>
									<br/>(*	Fill in register value *)<br/>udtHoldingRegisters[1]					:= INT_TO_WORD(RTC_SECONDS);<br/>
								</p>
							</html>
						</worksheet>
					</ST>
				</body>
				<documentation>
					<html xmlns="http://www.w3.org/1999/xhtml">
						<div xml:space="preserve" id="MWTDESCRIPTION" wsName="IB_IL_RS_UNIT" xmlns="http://www.w3.org/1999/xhtml"/>
					</html>
				</documentation>
			</pou>
		</pous>
	</types>
	<instances>
		<configurations/>
	</instances>
</project>